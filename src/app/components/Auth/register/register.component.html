<app-container>
  <div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
    <div class=" flex flex-col justify-center items-center">
      <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 64 64">
        <linearGradient id="SVGID_1__dSnah6CSCxRG_gr1" x1="32" x2="32" y1="6.872" y2="50.533" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a6dff"></stop><stop offset="1" stop-color="#c822ff"></stop></linearGradient><path fill="url(#SVGID_1__dSnah6CSCxRG_gr1)" d="M55.9,14.2L32.2,6.1C32,6,31.8,6,31.6,6.1L8.1,14.3c-0.4,0.2-0.7,0.6-0.7,1.1l3.7,30.8c0,0.3,0.2,0.6,0.5,0.8 l19.8,10.9c0.1,0.1,0.3,0.1,0.5,0.1c0.2,0,0.3,0,0.5-0.1l19.9-11c0.3-0.2,0.5-0.4,0.5-0.8l3.7-30.8C56.6,14.8,56.4,14.3,55.9,14.2z M51,45.3l-19,10.5L13,45.5L9.5,16l22.4-7.9l22.6,7.8L51,45.3z"></path><linearGradient id="SVGID_2__dSnah6CSCxRG_gr2" x1="31.999" x2="31.999" y1="6.872" y2="50.533" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a6dff"></stop><stop offset="1" stop-color="#c822ff"></stop></linearGradient><path fill="url(#SVGID_2__dSnah6CSCxRG_gr2)" d="M12.4,17c-0.4,0.2-0.7,0.6-0.7,1.1l3.1,25.6c0,0.3,0.2,0.6,0.5,0.8l16.1,8.8c0.1,0.1,0.3,0.1,0.5,0.1 c0.2,0,0.3,0,0.5-0.1l16.2-9c0.3-0.2,0.5-0.4,0.5-0.8L52.2,18c0.1-0.5-0.2-0.9-0.7-1.1l-19.3-6.6c-0.2-0.1-0.4-0.1-0.7,0L12.4,17z M31.9,12.3l18.2,6.3l-2.9,24.3l-15.3,8.5L16.8,43l-2.9-24.3L31.9,12.3z"></path><linearGradient id="SVGID_3__dSnah6CSCxRG_gr3" x1="32.255" x2="32.255" y1="14.915" y2="40.065" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6dc7ff"></stop><stop offset="1" stop-color="#e6abff"></stop></linearGradient><path fill="url(#SVGID_3__dSnah6CSCxRG_gr3)" d="M31.9,14.2L31.9,14.2L31.9,14.2L31.9,14.2L31.9,14.2L20,41h4.4l2.4-6h10.9l2.6,6h4.4L31.9,14.2z M32,22.4	l4.1,8.6l-7.7,0L32,22.4z"></path>
      </svg>
      <div class="w-full px-6 py-4 border-b border-gray-200 dark:border-gray-800">
        <h2 class="text-2xl text-center font-semibold leading-6 text-gray-900 dark:text-gray-50">
          Crear Cuenta
        </h2>
      </div>
    </div>

    <div class="mt-10">
      <form class="space-y-6" autocomplete="off" [formGroup]="form" (ngSubmit)="submit()">
        <div>
          <label for="email" class="block text-sm font-medium leading-6 text-gray-600">
            Name
          </label>
          <div class="mt-2">
            <input formControlName="name" id="name" name="name" type="text" required class="flex-1 relative block w-full appearance-none rounded-md border px-2.5 py-1.5 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950">
          </div>
          @if(form.get('name')?.hasError('required') && form.get('name')?.touched){
            <p class="text-red-500 text-xs mt-1">Nombre es requerido</p>

          } @else if (form.get('name')?.hasError('minlength') && form.get('name')?.touched){
            <p class="text-red-500 text-xs mt-1">Nombre mas de 4 caracteres</p>
          }
        </div>

        <div>
          <label for="email" class="block text-sm font-medium leading-6 text-gray-600">
            Apellido
          </label>
          <div class="mt-2">
            <input formControlName="lastName" id="lastName" name="lastName" type="text" required class="flex-1 relative block w-full appearance-none rounded-md border px-2.5 py-1.5 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950">
          </div>
          @if(form.get('lastName')?.hasError('required') && form.get('lastName')?.touched){
            <p class="text-red-500 text-xs mt-1">Apellido es Requerido</p>

          } @else if (form.get('lastName')?.hasError('minlength') && form.get('lastName')?.touched){
            <p class="text-red-500 text-xs mt-1">Last Name must be at least 4 characters</p>
          }
        </div>

        <div>
          <label for="email" class="block text-sm font-medium leading-6 text-gray-600">
            Email
          </label>
          <div class="mt-2">
            <input id="email" name="email" formControlName="email" type="email" required class="flex-1 relative block w-full appearance-none rounded-md border px-2.5 py-1.5 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950">
          </div>
          @if(form.get('email')?.hasError('required') && form.get('email')?.touched){
            <p class="text-red-500 text-xs mt-1">Email es requerido</p>

          } @else if (form.get('email')?.hasError('email') && form.get('email')?.touched){
            <p class="text-red-500 text-xs mt-1">Email es invalido</p>
          }
        </div>

        <div>
          <label for="role" class="block text-sm font-medium leading-6 text-gray-600">
            Rol
          </label>
          <div class="mt-2">
            <select id="role" name="role" formControlName="role" class="flex-1 relative block w-full appearance-none rounded-md border px-2.5 py-1.5 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950">
              <option value="Admin">
                Administrador
              </option>
              <option value="Client">
                Cliente
              </option>
            </select>
          </div>
          @if(form.get('role')?.hasError('pattern') && form.get('role')?.touched){
            <p class="text-red-500 text-xs mt-1">
              Rol de administrador o Cliente
            </p>

          }
        </div>

        <div>
          <label for="password" class="block text-sm font-medium leading-6 text-gray-600">
            Contraseña
          </label>
          <div class="flex mt-2 relative">
            <input id="password" name="password" [type]="showPassword? 'text' : 'password'"  formControlName="password" required class="flex-1 relative block w-full appearance-none rounded-md border px-2.5 py-1.5 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950">
            <button type="button" class="block rounded-md border px-2.5 py-1.5 shadow-sm transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-600 placeholder-gray-400 dark:placeholder-gray-500 bg-gray-950" (click)="showPassword = !showPassword" >
              @if(showPassword){
                <svg class="w-6 h-6 text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
                  <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                </svg>
              }@else{
                <svg class="w-6 h-6 text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                </svg>
              }
            </button>
          </div>
          @if(form.get('password')?.hasError('required') && form.get('password')?.touched){
            <p class="text-red-500 text-xs mt-1">Contraseña es incorrecta</p>

          } @else if (form.get('password')?.hasError('minlength') && form.get('password')?.touched){
            <p class="text-red-500 text-xs mt-1">Contraseña mas de 8 caracteres</p>
          } @else if (form.get('password')?.hasError('pattern') && form.get('password')?.touched){
            <ul class="text-red-500 text-xs mt-1 list-disc pl-5">
              <li >La contraceña debe tener 8 caracteres de longitud</li>
              <li >La contraceña debe tener una letra minúscula</li>
              <li >La contraceña debe tener una letra mayúscula</li>
              <li >La contraceña debe tener un dígito</li>
              <li >La contraceña debe tener un carácter especial (por ejemplo, &#64;, #, !, etc.)</li>
            </ul>
          }
        </div>

        <div class="grid grid-cols-1 gap-5">
          <button [disabled]="!form.valid" type="submit" class="flex w-full justify-center text-sm font-semibold leading-6 shadow-sm px-5 h-fit py-2 rounded-md border disabled:border-gray-300 disabled:dark:border-gray-800 text-gray-600 dark:text-gray-50 disabled:bg-slate-800/25 disabled:text-gray-50/25 border-blue-600">
            Crear Cuenta
          </button>
          <a routerLink="/auth/log-in"  class="flex w-full justify-evenly items-center text-sm font-semibold leading-6 shadow-sm px-5 h-fit py-1 rounded-md border disabled:border-gray-300 disabled:dark:border-gray-800 text-gray-600 dark:text-gray-50 disabled:bg-slate-800/25 disabled:text-gray-50/25 border-blue-600">
            Iniciar
          </a>
        </div>
      </form>
    </div>
  </div>
</app-container>
